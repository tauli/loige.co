{"data":{"site":{"siteMetadata":{"title":"Luciano Mammino \"Loige\" - Web developer, entrepreneur, fighter, butterfly maker!","author":"Luciano Mammino","siteUrl":"https://loige.co/","twitterProfile":"loige","disqusShortName":"loige"}},"markdownRemark":{"id":"4fb9bf25-f88c-55f3-9b38-edef4f859bb6","timeToRead":17,"headings":[{"value":"Rule 1: Avoid premature optimization","depth":2},{"value":"Rule 2: Do just what you need to","depth":2},{"value":"Rule 3: Mama, I‚Äôll do it tomorrow!","depth":2},{"value":"Rule 4: Gotta cache ‚Äòem all!","depth":2},{"value":"Rule 5: Avoid the damn N+1 Query Problem","depth":2},{"value":"Rule 6: Scale‚Ä¶ horizontally!","depth":2},{"value":"Conclusions","depth":2}],"html":"<p>In this post I will try to highlight some of the most common principles that you have to take under consideration when you want to achieve a great level of performance while building a web application (specifically on the backend part). I believe the concepts discussed here can be applied to any language and framework even if, due to my specific experience, I will mention some examples, design patterns, conventions and tools that are mostly used in the PHP world.</p>\n<p>You can read this article in other languages:</p>\n<ul>\n<li><strong>Japanese</strong> on <strong>POSTD</strong>: <a href=\"http://postd.cc/6-rules-of-thumb-to-build-blazing-fast-web-server-applications/\">È´òÈÄü„Å™Web„Çµ„Éº„Éê„Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥„ÇíÊßãÁØâ„Åô„Çã„Åü„ÇÅ„ÅÆ6„Å§„ÅÆÁµåÈ®ìÂâá</a></li>\n<li><strong>Italian</strong> on <strong>HTML5 Today</strong>: <a href=\"http://html5today.it/tutorial/performance-6-regole-sviluppare-applicazioni-web/\">Performance: 6 regole per sviluppare applicazioni web</a></li>\n</ul>\n<p><strong>TLDR;</strong> the basic rules are:</p>\n<ul>\n<li><a href=\"#rule-1\">Rule 1</a>. Avoid premature optimization</li>\n<li><a href=\"#rule-2\">Rule 2</a>. Do the minimum amount of work to solve the problem</li>\n<li><a href=\"#rule-3\">Rule 3</a>. Defer the work you don‚Äôt need to do immediately</li>\n<li><a href=\"#rule-4\">Rule 4</a>. Use cache when you can</li>\n<li><a href=\"#rule-5\">Rule 5</a>. Understand and avoid the N+1 query problem with relational databases</li>\n<li><a href=\"#rule-6\">Rule 6</a>. Prepare your app for horizontal scalability when possible</li>\n</ul>\n<p>\n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 728px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 34.34065934065934%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAAsSAAALEgHS3X78AAABTUlEQVQY02P4DwT//gGJv9++vlm95Pfb11/Onv9x/+b//7///fn599eX35/f/v3x9e/vb/9+fwcq/Y8EGEB6//wBks+nTb5Xlv9i1vTrvuqvZvt+u3vs2bZ9TzZs+fnx1Y/XD39/evH3+7t/f76jagZb++/r22tJlm9PnXg+b9aNVJcznubbZcy2SRptFNa90dnz9+enX++f/fkOdMLr/39/IDRDrH27fuUJBZHLrtY3I72Pa2jtl1I7rqp43sv7292bVxu7P1y69O/3x7/f3oE0//kCdzzU5u/37ryY1P20u+Xl7MkXo+N2ichfMNE8KSP0cuGcP39/fn/+8M/3D3+/vf378/2/Hy////4A0c+A7AeIQb8+fn515MyrXfsfdzTdL8r48frp7y9vfn18+vfn5/+oAKb531+g+yHo/9+/cIN+PLr/5/PH/zgAAKXBab1QKVHWAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <picture>\n        <source\n          srcset=\"/static/flash-gordon-fast-code-db6fd88ae0e1b56f7af94bdc12ca0c51-4410a.webp 256w,\n/static/flash-gordon-fast-code-db6fd88ae0e1b56f7af94bdc12ca0c51-f830b.webp 512w,\n/static/flash-gordon-fast-code-db6fd88ae0e1b56f7af94bdc12ca0c51-78e2b.webp 728w\"\n          sizes=\"(max-width: 728px) 100vw, 728px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/flash-gordon-fast-code-db6fd88ae0e1b56f7af94bdc12ca0c51-0cc02.png 256w,\n/static/flash-gordon-fast-code-db6fd88ae0e1b56f7af94bdc12ca0c51-3db21.png 512w,\n/static/flash-gordon-fast-code-db6fd88ae0e1b56f7af94bdc12ca0c51-9fed7.png 728w\"\n          sizes=\"(max-width: 728px) 100vw, 728px\"\n          type=\"image/png\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n          src=\"/static/flash-gordon-fast-code-db6fd88ae0e1b56f7af94bdc12ca0c51-9fed7.png\"\n          alt=\"Your code should be fast as Flash\"\n          title=\"\"\n          src=\"/static/flash-gordon-fast-code-db6fd88ae0e1b56f7af94bdc12ca0c51-9fed7.png\"\n        />\n      </picture>\n      </span>\n  </span>\n  </p>\n<p><a id=\"rule-1\"></a></p>\n<h2 id=\"rule-1-avoid-premature-optimization\"><a href=\"#rule-1-avoid-premature-optimization\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Rule 1: Avoid premature optimization</h2>\n<p>One of the most famous <a href=\"http://www-cs-faculty.stanford.edu/~uno/\">Donald Knuth</a>‚Äôs quotes says: </p>\n<blockquote>\n<p>‚Äúpremature optimization is the root of all evil‚Äù\n<br/><br/><a href=\"https://twitter.com/home?status=%22Premature%20optimization%20is%20the%20root%20of%20all%20evil%22%20%E2%80%94D.Knuth%20%0A%0AWeb%20apps%20performance%20tips%20by%20%40loige%3A%20http%3A//bit.ly/1SaHIJY\" target=\"_blank\"><i class=\"fa fa-twitter\"></i> Tweet this</a></p>\n</blockquote>\n<p>Knuth‚Äôs noticed that a lot of software developers generally waste a huge amount of time thinking about performance of non-critical parts of the code they are writing. This very often happens because such developers don‚Äôt really know what are the critical parts of their code or the ones that need to be optimized more, so they start to worry about futile things like ‚Äù<em>are double quoted strings slower than single quoted ones?</em>‚Äù</p>\n<p>To avoid to fall into the premature optimization trap you should write the first version of your code without worrying much about performance. Then you can use a <strong>profiler</strong> to instrument your code and see where the bottlenecks are. This way you can focus on improving only the parts that really need your attention.</p>\n<p><strong>Note</strong>: I want to make it clear that Knuth‚Äôs quote doesn‚Äôt mean that you don‚Äôt have to care about optimization at all and it‚Äôs not an excuse to write shitty code and then abandon it. I just intended it as an encouragement to learn how to ‚Äúoptimize smartly‚Äù and that‚Äôs the way you should read it as well.</p>\n<p>If you are working on the PHP land there are a loot of tools that you can easily adopt to profile your code:</p>\n<ul>\n<li><strong><a href=\"http://xdebug.org/\">xdebug</a></strong>: probably the most famous PHP debugger and profiler, it must be installed as a PHP extension and it‚Äôs easily integrable in most of the IDEs.</li>\n<li><strong><a href=\"https://github.com/phacility/xhprof\">xhprof</a></strong>: a function-level hierarchical profiler for PHP. It comes with a simple HTML based navigational interface and offers some cool diff capabilities to compare the performance of different versions of your code.</li>\n<li><strong><a href=\"https://symfony.com/doc/current/cookbook/profiler/index.html\">Symfony profiler</a></strong>: The Symfony profiler it‚Äôs a one of the best features of the Symfony framework. It allows you to inspect the execution time of every request, showcasing a nice timeline that allows you to easily understand which part of your code is the most time-consuming. It is automatically enabled in ‚Äúdevelopment‚Äù mode and does not need any PHP extension to be installed.</li>\n<li><strong><a href=\"https://symfony.com/doc/current/components/stopwatch.html\">The Stopwatch component</a></strong>: It‚Äôs the low level library used in the Symfony profiler to measure the execution time of a piece of PHP code. It can be easily integrated in any PHP project and does not require any extension.</li>\n<li><strong><a href=\"https://blackfire.io/\">Blackfire.io</a></strong>: a profiler optimized for PHP that offers a very nice web interface that allows you to understand visually what your code does and where the CPU spends most of its time.</li>\n<li><strong><a href=\"https://tideways.io/\">Tideways</a></strong>: a promising alternative to Blackfire, offers a lot of graphical tools (timeline, call graphs, etc.) to make it really easy to find bottlenecks. It‚Äôs meant to be run continuously (also in production).</li>\n</ul>\n<p>If you want to know more on this specific topic you can have a read at the following articles and papers:</p>\n<ul>\n<li><a href=\"http://blog.ircmaxell.com/2011/08/on-optimization-in-php.html\">On optimization in PHP</a> by Anthony Ferrara</li>\n<li><a href=\"http://ubiquity.acm.org/article.cfm?id=1513451\">The fallacy of premature optimization</a> by Randall Hyde</li>\n<li><a href=\"http://www.c2.com/cgi/wiki?PrematureOptimization\">Premature optimization</a> by Cunningham &#x26; Cunningham, Inc</li>\n</ul>\n<p><a id=\"rule-2\"></a></p>\n<h2 id=\"rule-2-do-just-what-you-need-to\"><a href=\"#rule-2-do-just-what-you-need-to\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Rule 2: Do just what you need to</h2>\n<p><img src=\"/content/i-just-do-things-joker-meme-f08a9b5539a2298c715a42f015816ddf.gif\" alt=\"Joker meme I Just Do Things\"></p>\n<p>Very often your code does more things than it‚Äôs required to do to produce the expected output. This is especially true if you are using complex libraries and frameworks in your code. Just to give you some examples you might load classes that you‚Äôll never use, you might open a database connection or read a file for every request even when these resources are not needed to generate the output for a specific request.</p>\n<p>There are a number of design patterns and techniques that can help you to avoid these situations and achieve better performances.</p>\n<ul>\n<li><strong>Autoloading</strong>: it‚Äôs a <a href=\"http://php.net/manual/en/language.oop5.autoload.php\">PHP feature</a> that allows you to require the file containing the definition of a class only when you are about to use that class (instantiation, static method call, access to a constant, etc.). This way you should not worry about which files to include in your script, but just to use that classes that you need. Autoloading will do the rest for you. Configuring autoloading has been a little bit complex in the past, especially because every library used its own conventions, but today thanks to the <a href=\"http://www.php-fig.org/psr/psr-0/\">PSR-0</a> and <a href=\"http://www.php-fig.org/psr/psr-4/\">PSR-4</a> standards and tools like <em>Composer</em> it is a piece of cake to use autoloading.</li>\n<li><strong>Dependency Injection</strong>: it‚Äôs a very common <a href=\"https://en.wikipedia.org/wiki/Dependency_injection\">design pattern</a> in the Java world that in the last years has got a lot of traction even in the PHP world thanks also to the effort of frameworks like Symfony, Zend and Laravel that use and advocate it widely. Basically it allows to inject components through the constructor or a setter method. This has the effect of forcing the developer to think in terms of dependencies and to create small isolated components focused on doing just one thing and do it well.</li>\n<li><strong>Lazy Loading</strong>: another important <a href=\"https://en.wikipedia.org/wiki/Lazy_loading\">design pattern</a> used to defer initialization of an object until the point at which it is needed. It‚Äôs mostly used with objects that deals with heavy resources like database connections or file based data sources.</li>\n</ul>\n<p><a id=\"rule-3\"></a></p>\n<h2 id=\"rule-3-mama-ill-do-it-tomorrow\"><a href=\"#rule-3-mama-ill-do-it-tomorrow\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Rule 3: Mama, I‚Äôll do it tomorrow!</h2>\n<p>\n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 415px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 93.97590361445783%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAATABQDASIAAhEBAxEB/8QAGAABAAMBAAAAAAAAAAAAAAAAAAECBAP/xAAWAQEBAQAAAAAAAAAAAAAAAAAAAQL/2gAMAwEAAhADEAAAAdzpbNhcZQXB/8QAHBAAAgICAwAAAAAAAAAAAAAAAAEREgIQISIx/9oACAEBAAEFAnae5j5xNtSyzE2f/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPwEf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPwEf/8QAHRAAAQMFAQAAAAAAAAAAAAAAAQAhkQIQESAxMv/aAAgBAQAGPwJqBK8CU4xr23//xAAbEAEAAwEAAwAAAAAAAAAAAAABABEhMRBBUf/aAAgBAQABPyE32C8Z4lK9/wCDcU3rYF9MG43O+E41n//aAAwDAQACAAMAAAAQ29eC/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPxAf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPxAf/8QAGxABAAMBAQEBAAAAAAAAAAAAAQARITFxYZH/2gAIAQEAAT8QoIvSiz9gaVby8uBWunHsVppe3OA3kEXp8YPb2BcR5ECq3P/Z'); background-size: cover; display: block;\"\n    >\n      <picture>\n        <source\n          srcset=\"/static/i-ll-do-it-tomorrow-meme-fa6c4b7ae2d884c5f304dfc75c30199a-e7920.webp 256w,\n/static/i-ll-do-it-tomorrow-meme-fa6c4b7ae2d884c5f304dfc75c30199a-ed6ba.webp 415w\"\n          sizes=\"(max-width: 415px) 100vw, 415px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/i-ll-do-it-tomorrow-meme-fa6c4b7ae2d884c5f304dfc75c30199a-af39a.jpg 256w,\n/static/i-ll-do-it-tomorrow-meme-fa6c4b7ae2d884c5f304dfc75c30199a-44cae.jpg 415w\"\n          sizes=\"(max-width: 415px) 100vw, 415px\"\n          type=\"image/jpeg\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n          src=\"/static/i-ll-do-it-tomorrow-meme-fa6c4b7ae2d884c5f304dfc75c30199a-44cae.jpg\"\n          alt=\"Tomorrow definition mystical land for human productivity\"\n          title=\"\"\n          src=\"/static/i-ll-do-it-tomorrow-meme-fa6c4b7ae2d884c5f304dfc75c30199a-44cae.jpg\"\n        />\n      </picture>\n      </span>\n  </span>\n  </p>\n<p>How many times do you needed to send an email to a user after he/she triggered a specific event in your web app (e.g. password changed or order completed)? How many times you needed to resize an image after the user uploaded it? Well it‚Äôs quite common to do these ‚Äúheavy‚Äù operations before sending a success message to the user. To put it another way, our users expects to see some message in their browsers as soon as possible and we need to ensure that any additional task (not directly related with creating that message) should be deferred.\nThe most common way to do that is to use <a href=\"https://en.wikipedia.org/wiki/Job_queue\">job queues</a>, which means that you have to store the minimum amount of data needed to perform the deferred task into a queue of some kind (e.g. a database, a message broker) and forget about it. You have to get back immediately to your main task: generating the output for the user! There will be some kind of worker in place with the goal to read from the queue periodically and perform the deferred job (e.g. sending the e-mail or generating the image thumbnails).</p>\n<p>A simple queue system can be easily done with any kind of data store (very often Redis or MongoDB are used) or a message broker like RabbitMQ or ActiveMQ. There are also a lot of implementation already done for the PHP world:</p>\n<ul>\n<li><a href=\"https://github.com/chrisboulton/php-resque\">Resque</a>: A PHP queue library that uses Redis as data store. </li>\n<li><a href=\"http://laravel.com/docs/5.1/queues\">Laravel Queues</a>: the Laravel/Lumen out-of-the-box solution to defer jobs using queues and workers. It can be configured to use different data stores.</li>\n<li><a href=\"http://gearman.org/\">Gearman</a>: A generic job server that supports the wide majority of languages (PHP among the others).</li>\n<li><a href=\"http://kr.github.io/beanstalkd/\">Beanstalkd</a>: Another fast work queue with client libraries for the most common languages (Ruby, PHP, etc.)</li>\n</ul>\n<p><a id=\"rule-4\"></a></p>\n<h2 id=\"rule-4-gotta-cache-em-all\"><a href=\"#rule-4-gotta-cache-em-all\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Rule 4: Gotta cache ‚Äòem all!</h2>\n<p>\n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 740px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 31.891891891891895%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsSAAALEgHS3X78AAABDklEQVQY0x2Q2Q6CQAxF+f+/Ib7x5AIYRRYTUERRIayyqCQEVFxOnIdJp+25tx1hs9kEQWBZlq7rhmGsVitFUcIwNE1zPp9zq6o6m800TaON5sViIcsyJc/zhMvlMgxDlmXUoiiK45jgdrtVVdV13f1+J+m6LliSJMTILZfL4/FIg0A3qev1mue5/D+TyWS73cKjbds2vO/74/EYgImwOZ1OxARCWZZ93wOjtN/vD4cDJM/z+cwIJOu63u12GJJpmub7/T6fTxZcr9dCmqaYPx4PgM/n83q9kKdJkqTpdApZFEXbthighSEwa/I1juMIvHFjc2Z7v9+sMBqNKJBHsfkfNoLnZmBghhVFkY/4AVCdO0mrj2LiAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <picture>\n        <source\n          srcset=\"/static/cache-joke-comic-the-cloud-f8b306fcc9e14720a6d9e10b5b551086-4c9dd.webp 256w,\n/static/cache-joke-comic-the-cloud-f8b306fcc9e14720a6d9e10b5b551086-72991.webp 512w,\n/static/cache-joke-comic-the-cloud-f8b306fcc9e14720a6d9e10b5b551086-875d4.webp 740w\"\n          sizes=\"(max-width: 740px) 100vw, 740px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/cache-joke-comic-the-cloud-f8b306fcc9e14720a6d9e10b5b551086-acbe0.png 256w,\n/static/cache-joke-comic-the-cloud-f8b306fcc9e14720a6d9e10b5b551086-7812c.png 512w,\n/static/cache-joke-comic-the-cloud-f8b306fcc9e14720a6d9e10b5b551086-7e8c6.png 740w\"\n          sizes=\"(max-width: 740px) 100vw, 740px\"\n          type=\"image/png\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n          src=\"/static/cache-joke-comic-the-cloud-f8b306fcc9e14720a6d9e10b5b551086-7e8c6.png\"\n          alt=\"Comic strip about the cloud and the cache\"\n          title=\"\"\n          src=\"/static/cache-joke-comic-the-cloud-f8b306fcc9e14720a6d9e10b5b551086-7e8c6.png\"\n        />\n      </picture>\n      </span>\n  </span>\n  </p>\n<p>Nowadays web apps are really complex pieces of code. In order to generate a response to every request we generally do a lot of things: connect to one or more database, call external APIs, read configuration files, compute and aggregate data, serialize the results into some parseable format (Xml, Json, etc.) or render it with a template engine into a wonderful HTML page.\nUsing a naive approach we can do that for every request that we get, our servers will never get bored to do repetitive tasks.</p>\n<p>But there‚Äôs a smarter (and faster) way to do repetitive tasks, avoiding to calculate the same results again and again: enter ‚Äù<em>the cache</em>‚Äú!</p>\n<blockquote>\n<p>Cache, which is pronounced ‚Äúcash‚Äù (not ‚Äúcatch‚Äù or ‚Äúcashay‚Äù), stores recently used information so that it can be quickly accessed at a later time.</p>\n</blockquote>\n<p>Cache is used widely in computer science and you can find it pretty much everywhere. For example the RAM itself can be considered as a way to cache the code of running programs to avoid the CPU to read the (slow) hard disk sparsely millions  and millions of times.</p>\n<p>In general with web programming we can focus on several different <strong>levels of cache</strong>:</p>\n<ul>\n<li><strong>Byte Code Cache</strong>: it‚Äôs a common feature of many interpreted languages (PHP, Python, Ruby, etc.) and it allows to avoid to interpretate source code files again and again if they are not changed since the last time. Some languages have this feature integrated in the core (Python), others like PHP needs to have it as an extension and several extensions exists for this sake: <a href=\"http://php.net/manual/en/book.apc.php\">APC</a>, <a href=\"http://eaccelerator.net/\">eAccelerator</a>, <a href=\"http://xcache.lighttpd.net/\">Xcache</a>. Since PHP 5.5 we can use the <a href=\"http://php.net/manual/en/book.opcache.php\">Opcache extension</a> which has been integrated in the core.</li>\n<li><strong>Application Cache</strong>: to not be confused with HTML5 Application cache, is the cache logic that regards your specific application and it‚Äôs probably the most important in terms of performance. Are you computing the 1264575th number in the Fibonacci sequence over and over again in your app? Well put the result in a cache and avoid to recompute it every time. Or, to give a more realistic example, are you always making the same expensive queries to the database over and over again to render the front page of you app? Well cache the results of the queries (or even the output of the whole page when possible) and avoid to hit the database for every user request. In these cases it‚Äôs a good idea to use cache servers like <a href=\"http://memcached.org/\">Memcached</a>, <a href=\"http://redis.io/\">Redis</a> or <a href=\"http://gibson-db.in/\">Gibson</a>.</li>\n<li><strong>HTTP Cache</strong>: Fetching data over the network is slow: a lot of round trips between the client and server are required and a lot of time is wasted before the browser is able to display the content. Wouldn‚Äôt it be useful to have ways to tell the browser to reuse content that he already downloaded?\nWell, you can do that by using <strong>HTTP Cache headers</strong> like <code class=\"language-text\">Etag</code> and <code class=\"language-text\">Cache-control</code>. This turns to be the cheapest way in terms of server resources to leverage cache (because everything is already in the browser and the server doesn‚Äôt get requests at all), you should only be sure to use it properly to avoid returning visitors to see stale content.</li>\n<li><strong>Proxy Cache</strong>: this technique refers to the usage of a dedicated server that receives all the HTTP traffic and it may have copies of the web pages requested by the users (often called <strong>Reverse proxy</strong>). In these cases it returns the copy of the page directly without requiring the app server to re-elaborate the request. It generally keeps the copy of the data in memory and avoids many network round trips so it‚Äôs generally an out-of-the-box approach to speed up very trafficked web sites where the content doesn‚Äôt change too frequently. Famous proxy servers are <a href=\"https://www.varnish-cache.org/\">Varnish</a>, <a href=\"http://nginx.org/\">Nginx</a> and <a href=\"http://www.squid-cache.org/\">Squid</a>. Also <a href=\"http://httpd.apache.org/\">Apache</a> can be configured to act as a reverse proxy.</li>\n</ul>\n<p>Anyway, once you got the concept of caching, it is really easy to adopt it. The issues arise when you need to understand whether something changed and the cached version of your data might not be relevant anymore. In such cases you need to delete the data on the cache to be sure it gets correctly recomputed the next it‚Äôs requested. This process is called ‚Äù<em>cache invalidation</em>‚Äù and it generally makes developers insane to the point that a very famous quote exists:</p>\n<blockquote>\n<p>There are only two hard things in Computer Science: <strong>cache invalidation</strong> and naming things.</p>\n<p>‚Äî Phil Karlton\n<br/><br/><a href=\"https://twitter.com/home?status=There%20are%20only%202%20hard%20things%20in%20CS%3A%20cache%20invalidation%20and%20naming%20things%0A%E2%80%94Karlton%0AWeb%20apps%20performance%20tips%20by%20%40loige%20http%3A//bit.ly/1SaHIJY\" target=\"_blank\"><i class=\"fa fa-twitter\"></i> Tweet this</a></p>\n</blockquote>\n<p>If you have been into software development for a while I‚Äôm quite sure that you already had chance to read it!</p>\n<p>There‚Äôs no silver bullet to make cache invalidation easy, it really depends from the architecture of your code and the requirements of your application. In general the less caching layers you have the better: always avoid to add complexity!</p>\n<p>Here follows some articles that might be interesting to know more about caching for web applications:</p>\n<ul>\n<li><a href=\"http://docforge.com/wiki/Web_application/Caching\">Web application caching</a> by DocForge</li>\n<li><a href=\"https://tideways.io/profiler/blog/fine-tune-your-opcache-configuration-to-avoid-caching-suprises\">Fine tune your Opcache configuration to avoid caching surprises</a> by Tideways blog</li>\n<li><a href=\"http://www.mobify.com/blog/beginners-guide-to-http-cache-headers/\">Beginners guide to HTTP cache headers</a> by Mobify</li>\n<li><a href=\"https://developers.google.com/web/fundamentals/performance/optimizing-content-efficiency/http-caching\">HTTP Caching, optimizing content efficiency</a> by Google</li>\n<li><a href=\"http://symfony.com/it/doc/current/book/http_cache.html\">Using Http headers with Symfony</a> by Symfony</li>\n<li><a href=\"https://www.nginx.com/resources/glossary/reverse-proxy-server/\">What is a reverse proxy server</a> by Nginx</li>\n<li><a href=\"http://laravel.com/docs/5.1/cache\">Laravel cache</a> by Laravel</li>\n</ul>\n<p><a id=\"rule-5\"></a></p>\n<h2 id=\"rule-5-avoid-the-damn-n1-query-problem\"><a href=\"#rule-5-avoid-the-damn-n1-query-problem\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Rule 5: Avoid the damn N+1 Query Problem</h2>\n<p>The ‚Äù<em>N+1 Query Problem</em>‚Äù is a very common anti-pattern unintentionally used especially when dealing with relational databases. Basically it reads N record from the database by generating N+1 queries (one to read the n IDs and 1 for every record). Take a look at the following piece of code to have a real case (well‚Ä¶ almost real) example:</p>\n<div class=\"gatsby-highlight\" data-language=\"php\">\n      <pre class=\"language-php\"><code class=\"language-php\"><span class=\"token delimiter important\">&lt;?php</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">getUsers</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">//... retrieve the users from the database (1 query)</span>\n  <span class=\"token keyword\">return</span> <span class=\"token variable\">$users</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">loadLastLoginsForUsers</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$users</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">foreach</span> <span class=\"token punctuation\">(</span><span class=\"token variable\">$users</span> <span class=\"token keyword\">as</span> <span class=\"token variable\">$user</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token variable\">$lastLogins</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> <span class=\"token comment\">// load the last logins for the user (1 query, executed n times)</span>\n    <span class=\"token variable\">$user</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">setLastLogins</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$lastLogins</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token variable\">$users</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token variable\">$users</span> <span class=\"token operator\">=</span> <span class=\"token function\">getUsers</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">loadLastLoginsForUsers</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$users</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n      </div>\n<p>The given piece of code loads a list of users at first and then, for every user, it loads his last login times from the database. This code produces the following N+1 queries:</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\">\n      <pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> id <span class=\"token keyword\">FROM</span> Users<span class=\"token punctuation\">;</span> <span class=\"token comment\">-- ids: 1, 2, 3, 4, 5, 6...</span>\n<span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> Logins <span class=\"token keyword\">WHERE</span> user_id <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> Logins <span class=\"token keyword\">WHERE</span> user_id <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> Logins <span class=\"token keyword\">WHERE</span> user_id <span class=\"token operator\">=</span> <span class=\"token number\">3</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> Logins <span class=\"token keyword\">WHERE</span> user_id <span class=\"token operator\">=</span> <span class=\"token number\">4</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> Logins <span class=\"token keyword\">WHERE</span> user_id <span class=\"token operator\">=</span> <span class=\"token number\">5</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> Logins <span class=\"token keyword\">WHERE</span> user_id <span class=\"token operator\">=</span> <span class=\"token number\">6</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">-- ...</span></code></pre>\n      </div>\n<p>That‚Äôs obviously inefficient and it happens quite often with ‚Äúhas many‚Äù relationships in databases, especially when you are using some kind of magic ORM and you don‚Äôt exactly know what it is doing out of the box (and probably you haven‚Äôt configured it properly).</p>\n<p>In general you can solve this problem by producing a query like the following:</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\">\n      <pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> id <span class=\"token keyword\">FROM</span> Users<span class=\"token punctuation\">;</span> <span class=\"token comment\">-- ids: 1, 2, 3, 4, 5, 6...</span>\n<span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> Logins <span class=\"token keyword\">WHERE</span> user_id <span class=\"token operator\">IN</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n      </div>\n<p>or by using the <code class=\"language-text\">JOIN</code> syntax where possible.</p>\n<p>This problem can be only addressed when you are in control of your SQL queries or if you have a clear understanding of the ORM library you are using (if you are using one). Anyway keep it in mind and be sure you don‚Äôt fall in the N+1 queries trap, especially when you deal with large datasets. Many PHP profilers allows you to inspect the generated queries for every page request, they can be very useful companion to understand if you are doing things properly in terms of avoiding the N+1 queries problem.</p>\n<p>On a side note, speaking of databases, be sure to keep a single connection open to your data source and to not reconnect for every query.</p>\n<p>Don‚Äôt expect this to be exhaustive. This problem is very broad and it has a lot of other important case to analyze, so if you want to know more about it have a look at the following articles and books:</p>\n<ul>\n<li><a href=\"https://secure.phabricator.com/book/phabcontrib/article/n_plus_one/\">Performance: N+1 Query Problem</a> by Phabricator</li>\n<li><a href=\"http://use-the-index-luke.com/sql/join/nested-loops-join-n1-problem\">Nested Loops</a> by Use the Index, Luke</li>\n<li><a href=\"http://laravel.com/docs/5.0/eloquent#eager-loading\">Laravel‚Äôs Eloquent ORM Eager Loading</a> by Laravel</li>\n<li>Book <a href=\"https://leanpub.com/sn1php\">Solving The N+1 Problem In PHP</a> by Paul M. Jones</li>\n</ul>\n<p><a id=\"rule-6\"></a></p>\n<h2 id=\"rule-6-scale-horizontally\"><a href=\"#rule-6-scale-horizontally\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Rule 6: Scale‚Ä¶ horizontally!</h2>\n<p>\n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 858px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 36.01398601398601%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAAsSAAALEgHS3X78AAABjUlEQVQY0w3H23KaQAAAUL640x/oQ9NMOx2C4sSiomaBFXDluoLcNogoIhejMaaJMZk8tE+d/kR73g5FonROUkOfMY0bQ3eGQxTP86qo4yiZTNxsmWfLVZ4VWVbdkoXrRBIY68ge9JUpjqhmk38/n/L1FsrO2+n4cDhyHTXwwmqTh+Fiv63LbHm8P9B0F47sIbCBoFdF+fhwWKUb6tvXXuTVEEStH2Y8v7vfv8/88sPHS0nwuDZGWpylu7vtmyg5Xc42UMU0ZOysF8nj+fUvhWSC5ADwliQmCCUx2Xt+MehNXZwPONNzD9hebTavtrkEPFZFt3E15rra/5bVmVKgt4hfsFYyDJJlRx2Zyghjc5eQZ0W8vb7WbCsYK1O2CfiOrqsxzUDTzhRoFsWJarGiClOuZX36zHMdS4KEbUGGlubhy8UF+H4liTDqD2c03bv8wolg1ua0dsdiWSQAhwr8ucSPZGAoyA/COkn2v37/cTHxnRQhPyJVEO1W659PT2dJMGyd9AeTGwEjPa3q53+8kCH7klEcEgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <picture>\n        <source\n          srcset=\"/static/web-apps-explodes-like-a-baloon-scalability-comic-9d00087a6e360cf7be532b2fdb712a58-f9c13.webp 256w,\n/static/web-apps-explodes-like-a-baloon-scalability-comic-9d00087a6e360cf7be532b2fdb712a58-23980.webp 512w,\n/static/web-apps-explodes-like-a-baloon-scalability-comic-9d00087a6e360cf7be532b2fdb712a58-9c154.webp 858w\"\n          sizes=\"(max-width: 858px) 100vw, 858px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/web-apps-explodes-like-a-baloon-scalability-comic-9d00087a6e360cf7be532b2fdb712a58-f7222.png 256w,\n/static/web-apps-explodes-like-a-baloon-scalability-comic-9d00087a6e360cf7be532b2fdb712a58-da96c.png 512w,\n/static/web-apps-explodes-like-a-baloon-scalability-comic-9d00087a6e360cf7be532b2fdb712a58-74a78.png 858w\"\n          sizes=\"(max-width: 858px) 100vw, 858px\"\n          type=\"image/png\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n          src=\"/static/web-apps-explodes-like-a-baloon-scalability-comic-9d00087a6e360cf7be532b2fdb712a58-74a78.png\"\n          alt=\"Horizontal scalability is hard\"\n          title=\"\"\n          src=\"/static/web-apps-explodes-like-a-baloon-scalability-comic-9d00087a6e360cf7be532b2fdb712a58-74a78.png\"\n        />\n      </picture>\n      </span>\n  </span>\n  </p>\n<p>‚ÄúScalability‚Äù is not exactly the same thing of ‚Äúperformance‚Äù, but the two things are tightly intertwined.\nTo give you my personal definition, ‚Äúscalability‚Äù is the ability of a system to adapt and remain functional without noticeable performance issues when the number of users (and requests) grows.</p>\n<p>It‚Äôs a very complex and broad topic and I don‚Äôt want to get into the details here. But for the sake of performance it‚Äôs worth to understand and keep in mind some simple things that you can do to be sure your app can be easily scaled horizontally. Horizontal scaling is a particular scaling strategy in which you add more machines to the cluster where your app is deployed. This way the load is split among all the machines and thus the whole system can remain performant even when there are a lot of simultaneous requests.</p>\n<p>The two major problems to take in consideration when preparing for horizontal scaling are user sessions and user files consistency.</p>\n<ul>\n<li><strong>Sessions</strong>: quite often (especially in PHP applications) user session data is stored on the local filesystem where the app is deployed. Using this strategy is not only slower but it will not work if you have two machines to handle the requests (the session data stored in one machine will be different than the one stored in the other). A better solution is to use some kind of database to store the user session data. Most of the frameworks easily allows you to do that with just few lines of configuration. At the beginning, when your app is small and it‚Äôs not so popular, you can install your favourite session storage platform in the same machine of your web sever. Than when you will need to scale your architecture you can easily move the session storage into a separate machine and connect all your web machines to it.</li>\n<li><strong>User files consistency</strong>: Same problem of sessions happens when users can store files within your app. In these cases you need to be sure that whatever is the web server they end up with they are able to see their files. So you need to keep the files into a dedicated storage (like <a href=\"http://aws.amazon.com/s3/\">Amazon S3</a> or <a href=\"http://www.rackspace.com/cloud/files\">Rackspace Cloudfiles</a>). Otherwise you can keep the files locally on the machines but you need to find a way to keep them synchronized within all the machines of the cluster. In this case you can use <a href=\"https://en.wikipedia.org/wiki/Network_File_System\">NFS</a> or <a href=\"http://www.gluster.org/\">GlusterFS</a> to create a shared filesystem.</li>\n</ul>\n<p>Here‚Äôs a list of other interesting resources to know more about scalable web applications:</p>\n<ul>\n<li><a href=\"http://inviqa.com/blog/horizontally-scalable-web-applications/\">Horizontally scalable web applications</a> by Inviqa</li>\n<li><a href=\"https://www.digitalocean.com/company/blog/horizontally-scaling-php-applications/\">Horizontally Scaling PHP Applications: A Practical Overview</a> by Digital Ocean</li>\n<li><a href=\"https://blog.openshift.com/best-practices-for-horizontal-application-scaling/\">Best Practices For Horizontal Application Scaling</a> by OpenShift</li>\n<li><a href=\"http://www.aosabook.org/en/distsys.html\">Scalable Web Architecture and Distributed Systems</a> by Kate Matsudaira</li>\n<li><a href=\"http://highscalability.com/blog/2014/3/17/intuitively-showing-how-to-scale-a-web-application-using-a-c.html\">Intuitively Showing How To Scale A Web Application Using A Coffee Shop As An Example</a> by HighScalability</li>\n<li>Book <a href=\"http://theartofscalability.com/\">The art of scalability</a> by Martin Abbot and Michael Fisher</li>\n<li>Slides <a href=\"http://www.slideshare.net/davemitz/7-stages-of-scaling-web-applications\">7 Stages of scaling web applications</a> by Rackspace</li>\n</ul>\n<h2 id=\"conclusions\"><a href=\"#conclusions\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Conclusions</h2>\n<p>I really hope this long post has been useful for you. I just wanted to give you an idea of what are the general concerns to take in mind when you start to write an app that should take performance under consideration. As I said in the first rule, don‚Äôt fall into the trap of premature optimization and just focus on writing the right code for the right job. Anyway if you have this points clear in your mind you will almost automatically think about good solutions to achieve a good level of performance and scalability from the very first versions of your app and you can also make some smart architectural decisions from the very beginning.</p>\n<p>In case you are an experienced web developer let me know if I forgot to mention any important rule and, if you commonly follow these rules, what you think about them.</p>\n<p>I hope some great discussion will start from the comments here.</p>\n<p>Thanks for taking your time to read this post.</p>\n<p>Until next time!</p>","frontmatter":{"title":"6 Rules of thumb to build blazing fast web server applications","slug":"6-rules-of-thumb-to-build-blazing-fast-web-applications","author":"Luciano Mammino","tags":["php","symfony","laravel","performance","scalaibility"],"date":"July 25, 2015","header_img":{"publicURL":"/static/6-rules-of-thumb-to-build-blazing-fast-web-applications-flash-gordon-1-d9b9a66ae929c0ee6b10053525036ec5.jpg"}}}},"pageContext":{"tags":["php","symfony","laravel","performance","scalaibility"],"slug":"6-rules-of-thumb-to-build-blazing-fast-web-applications","previous":{"timeToRead":3,"excerpt":"Hello dear developers,\ntoday I finally got my invitation to access the private beta of  Keybase.io ! üòé üéâ\nFor those who are not aware of this new service, Keybase.io is a website and a command line application that makes easier to adopt asymmetric cryptography to encrypt and authenticate messages. But it‚Äôs not just this, it‚Äôs also a  ‚Äúdirectory of people‚Äù , as they like to say. It‚Äôs like a social network, where everyone can easily share its public key and attach it to its social profiles (like Twitter‚Ä¶","fields":{"slug":"8-invitations-to-try-keybase-io"},"frontmatter":{"date":"26 May, 2015","title":"8 invitations to try Keybase.io","tags":["security","cryptography"],"header_img":{"publicURL":"/static/8-invitations-to-try-keybase-io-f86f086dfbd40709f8691bf576ea501a.jpg"}}},"next":{"timeToRead":1,"excerpt":"Do you ever wondered how to manage the  versioning  and  deployment  process of a website? It seems to be a very interesting yet complex topic for which there are already thousands of different solutions.\nIn a recent collaboration with  Usersnap  I had the pleasure to write a very detailed article for their blog that proposes a solution based on  Flightplan.js ,  Git  and  Nginx . My solution is very simple, it requires very few dependencies on your system (Git and Node.js) and it has been thought to give‚Ä¶","fields":{"slug":"versioning-and-deploying-a-static-website-with-git-flightplan-and-nginx"},"frontmatter":{"date":"08 September, 2015","title":"Versioning and deploying a static website with Git, Flightplan and Nginx","tags":["javascript","server","node-js","nginx","git","flightplan","collaboration"],"header_img":{"publicURL":"/static/Versioning-and-deploying-a-static-website-with-git-flightplan-and-nginx-5640d7294c058bcc1a2919c0934a8e19.jpg"}}},"similar":[{"slug":"6-tips-to-build-fast-web-applications-php-dublin-march-2016-talk","title":"6 Tips to Build Fast Web Applications (Php Dublin March 2016 Talk)","publishedAt":"23 March, 2016","score":2},{"slug":"developing-a-web-application-with-lumen-and-mysql","title":"Developing a web application with Lumen and MySql","publishedAt":"18 April, 2015","score":2},{"slug":"symfony-edit-the-response-globally-using-the-kernel-response-event","title":"Symfony, edit the Response globally using the Kernel Response event","publishedAt":"21 February, 2015","score":2},{"slug":"transparent-pixel-response-with-symfony-how-to-track-email-opening","title":"Transparent pixel response with Symfony, how to track email opening","publishedAt":"13 June, 2014","score":2},{"slug":"write-a-console-application-using-symfony-and-pimple","title":"Write a console application using Symfony and Pimple","publishedAt":"15 March, 2014","score":2}]}}